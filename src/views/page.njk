{% import viewDir + "/__type.njk" as type %}
<title>{{ file.fm.name }} | {{ file.fm.title }}</title>
{% include viewDir + "/__head.njk" %}

<section>
<p><a href="{{ basepath(file) }}/index.html">TOP</a>
<nav>
<ul>
{% for f in file.files %}
  <li>{{ type.type(file.fileMap, f.fm.name, basepath(file), 'page', opts) }}</li>
{% endfor %}
</ul>
</nav>
<hr>
<h1>{{ opts.domainSymbol }}{{ file.fm.name }}</h1>

{% if file.fm.desc %}
  <p>{{ file.fm.desc }}</p>
{% endif %}

{% if file.fm.props and file.fm.props.length > 0 %}
  <table>
    <tr><th>PROPERTY<th>TYPE<th>DESCRIPTION
    {% for prop in file.fm.props %}
      <tr><td>{{ prop.name }}<td>{{ type.type(file.fileMap, prop.type, basepath(file), 'page', opts) }}<td>{{ prop.desc }}
    {% endfor %}
  </table>
{% endif %}

{{ file.contents | safe }}

{% include viewDir + "/__footer.njk" %}
</section>
